"use strict";(self.webpackChunklego=self.webpackChunklego||[]).push([[434],{77555:function(n,t,e){e.r(t),e.d(t,{default:function(){return v}});var i=e(93433),r=e(1413),o=e(29439),c=e(72791),u=e(16871),s=e(555),a=e(16030),l=e(24551),d=e(66303),f=e(52815),h=(e(4676),e(84432),e(1281)),m=e(80184);function p(n){var t=n.images,e=(0,c.useState)(null),i=(0,o.Z)(e,2),r=i[0],u=i[1];return(0,m.jsxs)("div",{className:"slider-container",children:[(0,m.jsx)(f.tq,{style:{"--swiper-navigation-color":"#c4c4c4","--swiper-pagination-color":"#c4c4c4"},spaceBetween:10,navigation:!0,thumbs:{swiper:r},modules:[h.Rv,h.W_,h.o3],className:"mySwiper2",children:null===t||void 0===t?void 0:t.map((function(n,t){return(0,m.jsx)(f.o5,{children:(0,m.jsx)("img",{src:"http://localhost:8080/images/".concat(n),alt:""})},t)}))}),(0,m.jsx)(f.tq,{onSwiper:u,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:[h.Rv,h.W_,h.o3],className:"mySwiper",children:null===t||void 0===t?void 0:t.map((function(n,t){return(0,m.jsx)(f.o5,{children:(0,m.jsx)("img",{src:"http://localhost:8080/images/".concat(n),alt:""})},t)}))})]})}function v(){var n,t=(0,a.I0)(),e=(0,u.s0)(),f=(0,c.useState)(null),h=(0,o.Z)(f,2),v=h[0],g=h[1],w=(0,c.useState)(!1),b=(0,o.Z)(w,2),j=b[0],x=b[1],y=(0,c.useState)(!1),S=(0,o.Z)(y,2),_=S[0],Z=S[1],N=(0,c.useState)([]),k=(0,o.Z)(N,2),A=k[0],E=k[1],I=(0,u.TH)();(0,c.useEffect)((function(){I.state&&(0,s.rh)(I.state._id).then((function(n){g(n.data)})).catch((function(n){}))}),[]),(0,c.useEffect)((function(){(0,l.KA)().then((function(n){var t=n.data.wishlist.map((function(n){return n._id}));t.includes(null===v||void 0===v?void 0:v._id)&&x(!0),E(t)}))}),[]);(0,c.useEffect)((function(){Z(!0)})),(0,c.useEffect)((function(){_&&C()}),[j]);var C=function(){if(j){A.filter((function(n){return n!==v._id}));!function(n){localStorage.getItem("token")?(0,l.s3)(n).then((function(){E((function(t){return[].concat((0,i.Z)(t),[n._id])}))})):e("/login")}(v)}else!function(n){localStorage.getItem("token")?(0,l.$$)(n).then((function(){var t=A.filter((function(t){return t!==n._id}));E(t)})):e("/login")}(v)};return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"product-single-page",children:[(0,m.jsx)(p,{className:"swiper",images:null===v||void 0===v?void 0:v.images}),(0,m.jsxs)("div",{className:"single-product-side",children:[(0,m.jsxs)("div",{className:"add-to-wishlist",children:[(0,m.jsx)("span",{onClick:C,children:(0,m.jsx)("i",{onClick:function(n){n.stopPropagation(),x((function(n){return!n}))},className:j||A.includes(null===v||void 0===v?void 0:v._id)?"fa fa-heart":"far fa-heart"})}),(0,m.jsx)("span",{children:"Add to wish list"})]}),(0,m.jsx)("h3",{className:"title",children:null===v||void 0===v?void 0:v.name}),(0,m.jsx)("h4",{className:"category",children:null===v||void 0===v||null===(n=v.category)||void 0===n?void 0:n.name}),(0,m.jsxs)("h3",{className:"price",children:[null===v||void 0===v?void 0:v.price," EGP"]}),(0,m.jsx)("button",{onClick:function(){localStorage.getItem("token")?t((0,d.A4)((0,r.Z)({},v))):e("/login")},className:"add-to-bag",type:"button",children:"Add to Bag"})]})]})})}},555:function(n,t,e){e.d(t,{KQ:function(){return c},rh:function(){return r},wv:function(){return o}});var i=e(66614),r=function(n){return i.b.post("/product",{id:n})},o=function(n,t,e){return i.b.get("/shop",{params:{limit:n,page:t,filter:e}})},c=function(){return i.b.get("/dashboard/category")}},24551:function(n,t,e){e.d(t,{$$:function(){return c},KA:function(){return r},s3:function(){return o}});var i=e(66614),r=function(){return i.b.get("/wishlist")},o=function(n){return i.b.put("/wishlist",{wishlist:n._id})},c=function(n){return i.b.put("/deleteFromWishlist ",{wishlist:n._id})}},59199:function(n,t,e){function i(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}e.d(t,{Z:function(){return i}})},63366:function(n,t,e){function i(n,t){if(null==n)return{};var e,i,r={},o=Object.keys(n);for(i=0;i<o.length;i++)e=o[i],t.indexOf(e)>=0||(r[e]=n[e]);return r}e.d(t,{Z:function(){return i}})},89611:function(n,t,e){function i(n,t){return i=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n},i(n,t)}e.d(t,{Z:function(){return i}})},93433:function(n,t,e){e.d(t,{Z:function(){return c}});var i=e(30907);var r=e(59199),o=e(40181);function c(n){return function(n){if(Array.isArray(n))return(0,i.Z)(n)}(n)||(0,r.Z)(n)||(0,o.Z)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=434.94c22d51.chunk.js.map