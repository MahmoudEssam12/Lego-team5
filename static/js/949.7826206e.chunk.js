"use strict";(self.webpackChunklego=self.webpackChunklego||[]).push([[949],{43722:function(e,n,i){var r=i(1413),t=i(45987),s=(i(72791),i(64554)),a=i(80184),o=["children","value","index"];n.Z=function(e){var n=e.children,i=e.value,l=e.index,d=(0,t.Z)(e,o);return(0,a.jsx)("div",(0,r.Z)((0,r.Z)({role:"tabpanel",hidden:i!==l,id:"vertical-tabpanel-".concat(l),"aria-labelledby":"vertical-tab-".concat(l)},d),{},{children:i===l&&(0,a.jsx)(s.Z,{sx:{p:3},children:n})}))}},39938:function(e,n,i){function r(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}i.d(n,{Z:function(){return r}})},14949:function(e,n,i){i.r(n),i.d(n,{default:function(){return je}});var r=i(29439),t=i(1413),s=i(72791),a=i(47630),o=i(13967),l=i(64554),d=i(9953),c=i(4708),u=i(84395),x=i(34663),h=i(20890),p=i(94721),g=i(13400),Z=i(98008),f=i(31009),j=i(38996),m=i(43504),v=i(85545),b=i(32588),S=i(39124),P=i(43896),y=i(39938),C=i(43722),w=i(57621),D=i(39504),k=i(30456),I=i(9585),O=i(93044),_=i(82460),F=i(80184);var z=function(){var e=localStorage.getItem("token"),n=(0,k.Z)(e),i=(0,s.useState)(n.user),t=(0,r.Z)(i,2),a=t[0];return t[1],(0,F.jsx)(F.Fragment,{children:(0,F.jsx)("div",{style:{marginTop:"3rem"},children:(0,F.jsxs)(w.Z,{sx:{position:"relative",flexDirection:"row",display:"flex",width:"70%",justifyContent:"flex-start",alignItems:"center",textAlign:"left",gap:"1rem",marginInline:"auto"},children:[(0,F.jsx)(I.Z,{sx:{justifyContent:"center"},avatar:(0,F.jsx)(O.Z,{sx:{bgcolor:_.Z[500],width:"150px",height:"150px",fontSize:"4.3rem",margin:"0 auto",justifyContent:"center"},"aria-label":"recipe",children:a.email.split("")[0].toUpperCase()})}),(0,F.jsxs)(D.Z,{sx:{paddingBottom:0},children:[(0,F.jsxs)(h.Z,{gutterBottom:!0,variant:"h5",align:"left",component:"div",children:["Email: ",(0,F.jsx)("span",{style:{color:_.Z[500]},children:a.email})]}),(0,F.jsxs)(h.Z,{variant:"h6",align:"left",sx:{color:"grey"},component:"div",children:["Name:"," ",(0,F.jsx)("span",{style:{color:_.Z[500],textTransform:"uppercase",fontSize:"1.2rem",letterSpacing:"1px"},children:a.name})]}),(0,F.jsxs)(h.Z,{variant:"h6",align:"left",sx:{color:"grey"},component:"div",children:["Phone Number:"," ",(0,F.jsx)("span",{style:{color:_.Z[500],textTransform:"uppercase",fontSize:"1.2rem",letterSpacing:"1px"},children:a.phone_number})]})]})]})})})},E=i(74569),R=i.n(E),T=i(93433),L=i(67492),N=i(35855),A=i(10703),B=i(39281),M=i(53994),W=i(79836),q=i(53382),G=i(56890),H=i(80720),U=i(95573),V=[{id:"order_date",numeric:!1,disablePadding:!1,label:"Date"},{id:"email",numeric:!1,disablePadding:!1,label:"Email"},{id:"totalPrice",numeric:!1,disablePadding:!1,label:"Total Price"},{id:"orderStatus",numeric:!0,disablePadding:!1,label:"Order Status"},{id:"Controls",numeric:!0,disablePadding:!1,label:"Controls"}];var J=function(e){var n=e.order,i=e.orderBy,r=e.onRequestSort;return(0,F.jsx)(G.Z,{children:(0,F.jsx)(N.Z,{children:V.map((function(e){return(0,F.jsx)(M.Z,{align:e.numeric?"center":"left",padding:e.disablePadding?"none":"normal",sortDirection:i===e.id&&n,children:"order_date"===e.id?(0,F.jsxs)(H.Z,{active:i===e.id,direction:i===e.id?n:"asc",onClick:(t=e.id,function(e){r(e,t)}),children:[e.label,i===e.id?(0,F.jsx)(l.Z,{component:"span",sx:U.Z,children:"desc"===n?"sorted descending":"sorted ascending"}):null]}):(0,F.jsxs)(F.Fragment,{children:[e.label,i===e.id?(0,F.jsx)(l.Z,{component:"span",sx:U.Z,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var t}))})})},K=i(12065);var Q=function(e){var n=e.numSelected;return e.openFilterData,e.restoreAllOrders,e.orders,e.propsOrders,(0,F.jsx)(x.Z,{sx:(0,t.Z)({pl:{sm:2},pr:{xs:1,sm:1}},n>0&&{bgcolor:function(e){return(0,K.Fq)(e.palette.primary.main,e.palette.action.activatedOpacity)}}),children:n>0?(0,F.jsxs)(h.Z,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):(0,F.jsx)(h.Z,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",children:"Recent Orders"})})},X=i(55646),Y=i(94070),$=i(872),ee=i(4919),ne=i(68096),ie=i(94925),re=i(68837),te=i(23786),se=i(47071),ae=i(36151);function oe(e){var n,i=e.order,t=(0,s.useState)((function(){return""})),a=(0,r.Z)(t,2),o=a[0],l=a[1],d=(0,s.useState)(!1),c=(0,r.Z)(d,2),u=c[0],x=c[1],h=(0,s.useState)((function(){return{isDelivered:i.isDelivered,isPending:i.isPending,isShipped:i.isShipped}})),p=(0,r.Z)(h,2),g=(p[0],p[1],(0,s.useState)((function(){return i.isDelivered}))),Z=(0,r.Z)(g,2),f=Z[0],j=Z[1],m=(0,s.useState)((function(){return i.isPending})),v=(0,r.Z)(m,2),b=v[0],S=v[1],P=(0,s.useState)((function(){return i.isShipped})),y=(0,r.Z)(P,2),C=y[0],w=y[1];return(0,s.useEffect)((function(){"isDelivered"===o?(j(!0),w(!1),S(!1)):"isShipped"===o?(j(!1),w(!0),S(!1)):"isPending"===o&&(j(!1),w(!1),S(!0))}),[o]),(0,s.useEffect)((function(){i.isDelivered?l("isDelivered"):i.isShipped?l("isShipped"):i.isPending&&l("isPending")}),[]),(0,F.jsxs)(N.Z,{children:[(0,F.jsx)(M.Z,{children:i.order_date}),(0,F.jsx)(M.Z,{align:"center",children:i.user.email}),(0,F.jsxs)(M.Z,{align:"center",children:[null===(n=Number(i.total_price))||void 0===n?void 0:n.toFixed(2)," EGP"]}),(0,F.jsx)(M.Z,{align:"center",sx:{minWidth:"150px"},children:u?(0,F.jsxs)(ne.Z,{sx:{width:"100%",mt:2},children:[(0,F.jsx)(ie.Z,{id:"updateCategory",children:"Category"}),(0,F.jsxs)(re.Z,{fullWidth:!0,labelId:"updateCategory",id:"updateCategory",label:"Category",name:"updateCategory",value:o,onChange:function(e){return l(e.target.value)},children:[(0,F.jsx)(te.Z,{value:"",selected:!0,children:(0,F.jsx)("em",{children:"None"})}),(0,F.jsx)(te.Z,{value:"isPending",children:"Is Pending"}),(0,F.jsx)(te.Z,{value:"isShipped",children:"Is Shipped"}),(0,F.jsx)(te.Z,{value:"isDelivered",children:"Is Delivered"})]}),(0,F.jsx)(se.Z,{sx:{color:"red"}})]}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("span",{className:"order-status-code",style:{backgroundColor:f?"green":C?"orange":"grey"}})," ",f?"Delivered":C?"Shipped":b?"Pending":""]})}),(0,F.jsxs)(M.Z,{align:"center",children:[u&&(0,F.jsx)(ae.Z,{variant:"outlined",startIcon:(0,F.jsx)($.Z,{color:"success"}),onClick:function(){console.log({isDelivered:f,isPending:b,isShipped:C}),R().post("https://lego-team5.herokuapp.com/userOrder",{id:i._id,isDelivered:f,isPending:b,isShipped:C}).then((function(e){x(!1),console.log(e)})).catch((function(e){return console.log(e)}))},sx:{marginRight:"5px"},children:"Set"}),(0,F.jsx)(ae.Z,{variant:"outlined",startIcon:(0,F.jsx)(ee.Z,{color:"primary"}),onClick:function(){return x(!u)},children:u?"Cancel":"Change"})]})]})}function le(e,n,i){return new Date(n[i])<new Date(e[i])?-1:new Date(n[i])>new Date(e[i])?1:0}function de(e){return"desc"===e?function(e,n){return le(e,n,"order_date")}:function(e,n){return-le(e,n,"order_date")}}function ce(e,n){var i=e.map((function(e,n){return[e,n]}));return i.sort((function(e,i){var r=n(e[0],i[0]);return 0!==r?r:e[1]-i[1]})),i.map((function(e){return e[0]}))}var ue=function(e){var n=e.orders,i=s.useState("asc"),t=(0,r.Z)(i,2),a=t[0],o=t[1],d=s.useState("order_date"),c=(0,r.Z)(d,2),u=c[0],x=c[1],h=s.useState([]),p=(0,r.Z)(h,1)[0],g=s.useState(0),Z=(0,r.Z)(g,2),f=Z[0],j=Z[1],m=s.useState(5),v=(0,r.Z)(m,2),b=v[0],S=v[1],P=s.useState((0,T.Z)(n)),y=(0,r.Z)(P,2),C=y[0],w=y[1],D=s.useState(!1),k=(0,r.Z)(D,2),I=(k[0],k[1]);console.log(C);var O=s.useState(!1),_=(0,r.Z)(O,2),z=_[0],E=_[1],R=s.useState("test"),G=(0,r.Z)(R,2),H=G[0],U=(G[1],function(e,n){"clickaway"!==n&&E(!1)});(0,s.useEffect)((function(){w(n)}),[n]);var V=f>0?Math.max(0,(1+f)*b-C.length):0;return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(l.Z,{sx:{width:"100%"},children:(0,F.jsxs)(A.Z,{sx:{width:"100%",mb:2},children:[(0,F.jsx)(Q,{numSelected:p.length,openFilterData:function(){I(!0)},restoreAllOrders:function(){w(n)},orders:n,propsOrders:C}),(0,F.jsx)(B.Z,{children:(0,F.jsxs)(W.Z,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"medium",children:[(0,F.jsx)(J,{numSelected:p.length,order:a,orderBy:u,onRequestSort:function(e,n){o(u===n&&"asc"===a?"desc":"asc"),x(n)},rowCount:C.length}),(0,F.jsxs)(q.Z,{children:[ce(C,de(a)).slice(f*b,f*b+b).map((function(e,n){return(0,F.jsx)(oe,{order:e},e._id)})),V>0&&(0,F.jsx)(N.Z,{style:{height:53*V},children:(0,F.jsx)(M.Z,{colSpan:6})})]})]})}),(0,F.jsx)(L.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:C.length,rowsPerPage:b,page:f,onPageChange:function(e,n){j(n)},onRowsPerPageChange:function(e){S(parseInt(e.target.value,10)),j(0)},sx:{mb:0}})]})}),(0,F.jsx)(X.Z,{open:z,autoHideDuration:3e3,onClose:U,severity:"success",children:(0,F.jsx)(Y.Z,{onClose:U,severity:"success",sx:{width:"100%"},children:H})})]})};var xe=function(){var e=localStorage.getItem("token"),n=(0,k.Z)(e),i=(0,s.useState)([]),t=(0,r.Z)(i,2),a=t[0],o=t[1];return(0,s.useEffect)((function(){R().post("https://lego-team5.herokuapp.com/shipper/orders",{id:n.user._id}).then((function(e){console.log(e),o(e.data.orders)})).catch((function(e){return console.log(e)}))}),[]),(0,F.jsx)("div",{style:{marginTop:"2rem"},children:(0,F.jsx)(ue,{orders:a})})},he=i(37541),pe=240,ge=(0,a.ZP)("main",{shouldForwardProp:function(e){return"open"!==e}})((function(e){var n=e.theme,i=e.open;return(0,t.Z)({flexGrow:1,padding:n.spacing(3),transition:n.transitions.create("margin",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),marginLeft:"-".concat(pe,"px")},i&&{transition:n.transitions.create("margin",{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen}),marginLeft:0})})),Ze=(0,a.ZP)(u.Z,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var n=e.theme,i=e.open;return(0,t.Z)({transition:n.transitions.create(["margin","width"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen})},i&&{width:"calc(100% - ".concat(pe,"px)"),marginLeft:"".concat(pe,"px"),transition:n.transitions.create(["margin","width"],{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen})})})),fe=(0,a.ZP)("div")((function(e){var n=e.theme;return(0,t.Z)((0,t.Z)({display:"flex",alignItems:"center",padding:n.spacing(0,1)},n.mixins.toolbar),{},{justifyContent:"flex-end"})}));function je(){var e=(0,o.Z)(),n=s.useState(!1),i=(0,r.Z)(n,2),a=i[0],u=i[1],w=s.useState(0),D=(0,r.Z)(w,2),k=D[0],I=D[1];return(0,F.jsxs)(l.Z,{sx:{display:"flex"},children:[(0,F.jsx)(c.ZP,{}),(0,F.jsx)(Ze,{position:"fixed",open:a,children:(0,F.jsxs)(x.Z,{sx:{pr:"24px",backgroundColor:"#ffcf00",color:"#000",display:"flex",justifyContent:"space-between"},children:[(0,F.jsxs)(l.Z,{component:"div",sx:{display:"flex",alignItems:"center"},children:[(0,F.jsx)(g.Z,{color:"inherit","aria-label":"open drawer",onClick:function(){u(!0)},edge:"start",sx:(0,t.Z)({mr:2},a&&{display:"none"}),children:(0,F.jsx)(Z.Z,{})}),(0,F.jsx)(h.Z,{variant:"h6",noWrap:!0,component:"div",children:"Shipper Dashboard"})]}),(0,F.jsx)(m.OL,{to:"/",children:(0,F.jsx)(g.Z,{color:"inherit",sx:{color:"black"},children:(0,F.jsx)(he.Z,{})})})]})}),(0,F.jsxs)(d.ZP,{sx:{width:pe,flexShrink:0,"& .MuiDrawer-paper":{width:pe,boxSizing:"border-box"}},variant:"persistent",anchor:"left",open:a,children:[(0,F.jsx)(fe,{children:(0,F.jsx)(g.Z,{onClick:function(){u(!1)},children:"ltr"===e.direction?(0,F.jsx)(f.Z,{}):(0,F.jsx)(j.Z,{})})}),(0,F.jsx)(p.Z,{}),(0,F.jsxs)(S.Z,{orientation:"vertical",variant:"scrollable",value:k,onChange:function(e,n){I(n)},"aria-label":"Vertical tabs example",sx:{borderRight:1,borderColor:"divider"},children:[(0,F.jsx)(P.Z,(0,t.Z)({label:"Profile",icon:(0,F.jsx)(v.Z,{}),iconPosition:"start"},(0,y.Z)(0))),(0,F.jsx)(P.Z,(0,t.Z)({label:"Orders to Deliver",icon:(0,F.jsx)(b.Z,{}),iconPosition:"start"},(0,y.Z)(1)))]})]}),(0,F.jsxs)(ge,{open:a,children:[(0,F.jsx)(C.Z,{value:k,index:0,children:(0,F.jsx)(z,{})}),(0,F.jsx)(C.Z,{value:k,index:1,children:(0,F.jsx)(xe,{})})]})]})}},85545:function(e,n,i){var r=i(95318);n.Z=void 0;var t=r(i(45649)),s=i(80184),a=(0,t.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}),"AccountCircle");n.Z=a},38996:function(e,n,i){var r=i(95318);n.Z=void 0;var t=r(i(45649)),s=i(80184),a=(0,t.default)((0,s.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");n.Z=a}}]);
//# sourceMappingURL=949.7826206e.chunk.js.map