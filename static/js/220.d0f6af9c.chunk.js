"use strict";(self.webpackChunklego=self.webpackChunklego||[]).push([[220],{94660:function(e,r,t){t(72791);r.Z=t.p+"static/media/LEGOAccount-Logo.ed093d4e8f43ce1e32a1ba6a8aef2989.svg"},44220:function(e,r,t){t.r(r),t.d(r,{default:function(){return F}});var a=t(72791),i=t(43504),o=t(4708),s=t(64554),n=t(26445),l=t(29823),d=t(12017),c=t(1413),u=t(29439),m=t(55705),h=t(62797),x=t(68096),b=t(48550),p=t(68837),y=t(47071),g=t(94925),Z=t(23786),v=t(74569),f=t.n(v),j=t(16871),N=(t(76630),t(30456)),w=t(55646),k=t(94070),C=t(80184);function S(){var e=(0,a.useState)((function(){return(0,N.Z)(localStorage.getItem("token"))})),r=(0,u.Z)(e,1)[0],t=(0,a.useState)(!1),o=(0,u.Z)(t,2),s=o[0],n=o[1],l=(0,a.useState)(!1),d=(0,u.Z)(l,2),v=d[0],S=d[1],M=(0,a.useState)(""),F=(0,u.Z)(M,2),I=F[0],q=F[1],D=function(e,r){"clickaway"!==r&&S(!1)},P=(0,j.s0)(),L=(0,m.TA)({initialValues:{userName:r.user.userName,email:r.user.email,day:r.user.day,month:r.user.month,year:r.user.year,country:r.user.country,city:r.user.address?r.user.address.city:"",street:r.user.address?r.user.address.street:"",building:r.user.address?r.user.address.building:""},validationSchema:h.Ry({userName:h.Z_().max(15,"Must be 15 characters or less").min(3,"Must be more than 3 characters").required("Required"),email:h.Z_().email("Invalid email address").required("required"),day:h.Rx("day should be a number").max(31,"day should be two numbers DD").required("required"),month:h.Rx("month should be a number").max(12,"month should be two numbers MM").required("required"),year:h.Rx("year should be a number").max(2010,"you can't register if your age less than 12").min(1930,"your can't be a 100 years old stop lying").required("required"),country:h.Z_().required("required"),city:h.Z_().required("required"),street:h.Z_().max(10,"Street must be 10 characters max").min(4,"Street must be 4 characters or more").required("required"),building:h.Rx("building must be number").required("Number required")}),onSubmit:function(e){n(!0);var r={city:e.city,street:e.street,building:e.building};var t={userName:e.userName,email:e.email,country:e.country,address:r,age:function(){var r=new Date,t=new Date("".concat(e.year,"/").concat(e.month,"/").concat(e.day)),a=r.getFullYear()-t.getFullYear(),i=r.getMonth()-t.getMonth();return(i<0||0===i&&r.getDate()<t.getDate())&&a--,a}(),year:e.year,month:e.month,day:e.day};f().post("https://lego-team5.herokuapp.com/account/update",t,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){localStorage.setItem("token",e.data.token),n(!1),P("/whishlist/personal",{state:{message:e.data.message}})})).catch((function(e){n(!1),q("Something went wrong Please try again"),S(!0)}))}});return(0,C.jsxs)(C.Fragment,{children:[s&&(0,C.jsxs)("div",{className:"inner-loader",children:[(0,C.jsx)("h1",{children:"Loading please hold"}),(0,C.jsxs)("div",{className:"lds-ring",children:[(0,C.jsx)("div",{}),(0,C.jsx)("div",{}),(0,C.jsx)("div",{}),(0,C.jsx)("div",{})]})]}),!s&&(0,C.jsxs)("div",{children:[(0,C.jsxs)("form",{id:"update-form",onSubmit:L.handleSubmit,children:[(0,C.jsx)(x.Z,{sx:{width:"100%",mb:2},children:(0,C.jsx)(b.Z,(0,c.Z)({helperText:L.touched.userName&&L.errors.userName?"".concat(L.errors.userName):null,error:!(!L.touched.userName||!L.errors.userName),label:"UserName",type:"text",id:"UpdateUserName",name:r.user.userName,placeholder:"InitialUserName"},L.getFieldProps("userName")))}),(0,C.jsx)(x.Z,{sx:{width:"100%",mb:2},children:(0,C.jsx)(b.Z,(0,c.Z)({helperText:L.touched.email&&L.errors.email?"".concat(L.errors.email):null,error:!(!L.touched.email||!L.errors.email),label:"EmailAddress",type:"email",id:"UpdateEmailAdress",InputProps:{readOnly:!0},disabled:!0,value:L.values.email,name:"email",placeholder:"example@gmail.com"},L.getFieldProps("email")))}),(0,C.jsx)("label",{htmlFor:"birthDate",className:"birthDateLabel",children:"Birthdate"}),(0,C.jsxs)("div",{className:"row",children:[(0,C.jsx)("div",{className:"col",children:(0,C.jsx)(x.Z,{children:(0,C.jsx)(b.Z,(0,c.Z)({helperText:L.touched.day&&L.errors.day?"".concat(L.errors.day):null,error:!(!L.touched.day||!L.errors.day),label:"Day",type:"number",placeholder:"DD",id:"birthDay"},L.getFieldProps("day")))})}),(0,C.jsx)("div",{className:"col",children:(0,C.jsx)(x.Z,{children:(0,C.jsx)(b.Z,(0,c.Z)({helperText:L.touched.month&&L.errors.month?"".concat(L.errors.month):null,error:!(!L.touched.month||!L.errors.month),label:"Month",type:"number",placeholder:"MM",id:"birthMonth"},L.getFieldProps("month")))})}),(0,C.jsx)("div",{className:"col",children:(0,C.jsx)(x.Z,{children:(0,C.jsx)(b.Z,(0,c.Z)({helperText:L.touched.year&&L.errors.year?"".concat(L.errors.year):null,error:!(!L.touched.year||!L.errors.year),label:"Year",type:"number",placeholder:"YYYY",id:"birthYear"},L.getFieldProps("year")))})})]}),(0,C.jsxs)(x.Z,{sx:{width:"100%",mt:2},children:[(0,C.jsx)(g.Z,{id:"countries-label",children:"Country"}),(0,C.jsxs)(p.Z,(0,c.Z)((0,c.Z)({error:!(!L.touched.country||!L.errors.country),labelId:"countries-label",name:r.user.country,id:"countries"},L.getFieldProps("country")),{},{sx:{backgroundColor:"#fff"},children:[(0,C.jsx)(Z.Z,{value:"",children:(0,C.jsx)("em",{children:"..."})}),(0,C.jsx)(Z.Z,{value:"cairo",children:"Cairo"}),(0,C.jsx)(Z.Z,{value:"alex",children:"Alex"}),(0,C.jsx)(Z.Z,{value:"mansoura",children:"Mansoura"}),(0,C.jsx)(Z.Z,{value:"portsaid",children:"Port Said"}),(0,C.jsx)(Z.Z,{value:"tanta",children:"Tanta"})]})),(0,C.jsx)(y.Z,{sx:{color:"red"},children:L.touched.country&&L.errors.country?"".concat(L.errors.country):null})]}),(0,C.jsxs)("div",{className:"row mt-3",children:[(0,C.jsxs)("div",{className:"col",children:[(0,C.jsx)("label",{htmlFor:"UpdateCity"}),(0,C.jsx)(x.Z,{sx:{width:"100%",mb:2},children:(0,C.jsx)(b.Z,(0,c.Z)({helperText:L.touched.city&&L.errors.city?"".concat(L.errors.city):null,error:!(!L.touched.city||!L.errors.city),label:"City",type:"text",id:"UpdateCity",name:"city",placeholder:"city"},L.getFieldProps("city")))})]}),(0,C.jsxs)("div",{className:"col",children:[(0,C.jsx)("label",{htmlFor:"UpdateStreet"}),(0,C.jsx)(x.Z,{sx:{width:"100%",mb:2},children:(0,C.jsx)(b.Z,(0,c.Z)({helperText:L.touched.street&&L.errors.street?"".concat(L.errors.street):null,error:!(!L.touched.street||!L.errors.street),label:"Street",type:"text",id:"UpdateStreet",name:"street",placeholder:"street"},L.getFieldProps("street")))})]}),(0,C.jsxs)("div",{className:"col",children:[(0,C.jsx)("label",{htmlFor:"UpdateCity"}),(0,C.jsx)(x.Z,{sx:{width:"100%",mb:2},children:(0,C.jsx)(b.Z,(0,c.Z)({helperText:L.touched.building&&L.errors.building?"".concat(L.errors.building):null,error:!(!L.touched.building||!L.errors.building),label:"Building",type:"number",id:"UpdateBuilding",name:"building",placeholder:"city"},L.getFieldProps("building")))})]})]}),(0,C.jsxs)("div",{className:"d-grid gap-2 col-6 mx-auto my-4",children:[(0,C.jsx)("button",{disabled:L.dirty&&!L.isValid,className:"btn update-save-btn py-2 mb-2",type:"submit",children:"Save"}),(0,C.jsx)("button",{className:"btn mb-2",style:{backgroundColor:"transparent",color:"black"},type:"button",children:(0,C.jsx)(i.rU,{to:"/details",className:"hover-btn",style:{textDecoration:"none",border:"none"},children:"Go Back"})})]})]}),(0,C.jsx)(w.Z,{open:v,autoHideDuration:3e3,onClose:D,severity:"error",children:(0,C.jsx)(k.Z,{onClose:D,severity:"error",sx:{width:"100%"},children:I})})]})]})}var M=t(94660);function F(){return(0,C.jsxs)("div",{style:{backgroundColor:"#f2f5f7"},children:[(0,C.jsx)(o.ZP,{}),(0,C.jsx)(n.Z,{maxWidth:"sm",children:(0,C.jsxs)(s.Z,{sx:{bgcolor:"#f2f5f7",height:"100%"},className:"account-border",children:[(0,C.jsx)(s.Z,{sx:{bgcolor:"#ffcf00",height:"12vh"},children:(0,C.jsxs)("div",{className:"text-center",children:[(0,C.jsx)("button",{className:"back-arrow",children:(0,C.jsx)(i.rU,{to:"/details",children:(0,C.jsx)(d.Z,{fontSize:"large",className:"inner-back-arrow"})})}),(0,C.jsx)("img",{src:M.Z,alt:"",className:"Logo-img-account rounded",style:{marginLeft:"0"}}),(0,C.jsx)("button",{className:"closing-btn",children:(0,C.jsx)(i.rU,{to:"/whishlist/personal",style:{textDecoration:"none",color:"black"},children:(0,C.jsx)(l.Z,{fontSize:"large",className:"inner-back-arrow"})})})]})}),(0,C.jsxs)(s.Z,{sx:{mt:2,mx:2},children:[(0,C.jsx)("h4",{style:{textAlign:"center",marginBottom:"16px"},children:"Edit Profile"}),(0,C.jsx)(S,{})]})]})})]})}},12017:function(e,r,t){var a=t(95318);r.Z=void 0;var i=a(t(45649)),o=t(80184),s=(0,i.default)((0,o.jsx)("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos");r.Z=s},90133:function(e,r,t){t.d(r,{V:function(){return i}});var a=t(95159);function i(e){return(0,a.Z)("MuiDivider",e)}var o=(0,t(30208).Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);r.Z=o},96014:function(e,r,t){t.d(r,{f:function(){return i}});var a=t(95159);function i(e){return(0,a.Z)("MuiListItemIcon",e)}var o=(0,t(30208).Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);r.Z=o},29849:function(e,r,t){t.d(r,{L:function(){return i}});var a=t(95159);function i(e){return(0,a.Z)("MuiListItemText",e)}var o=(0,t(30208).Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);r.Z=o},23786:function(e,r,t){t.d(r,{Z:function(){return k}});var a=t(4942),i=t(63366),o=t(87462),s=t(72791),n=t(28182),l=t(90767),d=t(12065),c=t(47630),u=t(93736),m=t(66199),h=t(95080),x=t(40162),b=t(42071),p=t(90133),y=t(96014),g=t(29849),Z=t(95159);function v(e){return(0,Z.Z)("MuiMenuItem",e)}var f=(0,t(30208).Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),j=t(80184),N=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],w=(0,c.ZP)(h.Z,{shouldForwardProp:function(e){return(0,c.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,r){var t=e.ownerState;return[r.root,t.dense&&r.dense,t.divider&&r.divider,!t.disableGutters&&r.gutters]}})((function(e){var r,t=e.theme,i=e.ownerState;return(0,o.Z)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!i.disableGutters&&{paddingLeft:16,paddingRight:16},i.divider&&{borderBottom:"1px solid ".concat(t.palette.divider),backgroundClip:"padding-box"},(r={"&:hover":{textDecoration:"none",backgroundColor:t.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,a.Z)(r,"&.".concat(f.selected),(0,a.Z)({backgroundColor:(0,d.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)},"&.".concat(f.focusVisible),{backgroundColor:(0,d.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)})),(0,a.Z)(r,"&.".concat(f.selected,":hover"),{backgroundColor:(0,d.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,d.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}}),(0,a.Z)(r,"&.".concat(f.focusVisible),{backgroundColor:t.palette.action.focus}),(0,a.Z)(r,"&.".concat(f.disabled),{opacity:t.palette.action.disabledOpacity}),(0,a.Z)(r,"& + .".concat(p.Z.root),{marginTop:t.spacing(1),marginBottom:t.spacing(1)}),(0,a.Z)(r,"& + .".concat(p.Z.inset),{marginLeft:52}),(0,a.Z)(r,"& .".concat(g.Z.root),{marginTop:0,marginBottom:0}),(0,a.Z)(r,"& .".concat(g.Z.inset),{paddingLeft:36}),(0,a.Z)(r,"& .".concat(y.Z.root),{minWidth:36}),r),!i.dense&&(0,a.Z)({},t.breakpoints.up("sm"),{minHeight:"auto"}),i.dense&&(0,o.Z)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,(0,a.Z)({},"& .".concat(y.Z.root," svg"),{fontSize:"1.25rem"})))})),k=s.forwardRef((function(e,r){var t=(0,u.Z)({props:e,name:"MuiMenuItem"}),a=t.autoFocus,d=void 0!==a&&a,c=t.component,h=void 0===c?"li":c,p=t.dense,y=void 0!==p&&p,g=t.divider,Z=void 0!==g&&g,f=t.disableGutters,k=void 0!==f&&f,C=t.focusVisibleClassName,S=t.role,M=void 0===S?"menuitem":S,F=t.tabIndex,I=(0,i.Z)(t,N),q=s.useContext(m.Z),D={dense:y||q.dense||!1,disableGutters:k},P=s.useRef(null);(0,x.Z)((function(){d&&P.current&&P.current.focus()}),[d]);var L,T=(0,o.Z)({},t,{dense:D.dense,divider:Z,disableGutters:k}),U=function(e){var r=e.disabled,t=e.dense,a=e.divider,i=e.disableGutters,s=e.selected,n=e.classes,d={root:["root",t&&"dense",r&&"disabled",!i&&"gutters",a&&"divider",s&&"selected"]},c=(0,l.Z)(d,v,n);return(0,o.Z)({},n,c)}(t),B=(0,b.Z)(P,r);return t.disabled||(L=void 0!==F?F:-1),(0,j.jsx)(m.Z.Provider,{value:D,children:(0,j.jsx)(w,(0,o.Z)({ref:B,role:M,tabIndex:L,component:h,focusVisibleClassName:(0,n.Z)(U.focusVisible,C)},I,{ownerState:T,classes:U}))})}))},76630:function(){}}]);
//# sourceMappingURL=220.d0f6af9c.chunk.js.map