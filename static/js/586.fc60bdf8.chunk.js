"use strict";(self.webpackChunklego=self.webpackChunklego||[]).push([[586],{586:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(29439),s=n(72791),o=n(43504),c=n(16871),u=n(74569),i=n.n(u),a=n(30456),l=n(16030),h=n(66303),d=n(80184);function p(){var e=(0,l.I0)(),t=(0,s.useState)(!1),n=(0,r.Z)(t,2),u=(n[0],n[1]),p=(0,l.v9)((function(e){return e.cart})),f=Object.values(p.products);console.log(f);var m=f.map((function(e){return{product:Number(e._id),quantity:e.quantity,unit_price:e.price}})),g=(0,c.TH)().search.split("=")[1],j=p.totalPrice;return(0,s.useEffect)((function(){if(f.length){var t=(0,a.Z)(localStorage.getItem("token")).user._id;i().post("https://lego-team5.herokuapp.com/order",{user:t,products:m,total_price:j,session_id:g}).then((function(t){return e((0,h.s9)())})).catch((function(e){}))}else u(!0)}),[f.length]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"success",children:[(0,d.jsx)("h1",{children:"\ud83c\udf89 Thank you for your order \ud83c\udf89"}),(0,d.jsx)("p",{children:"We are currently processing your order and will send you a confirmation email shortly"})]}),(0,d.jsx)("div",{className:"success-button",children:(0,d.jsx)(o.OL,{to:"/shop-now",children:(0,d.jsx)("button",{className:"home-button",children:"Continue Shopping"})})})]})}}}]);
//# sourceMappingURL=586.fc60bdf8.chunk.js.map